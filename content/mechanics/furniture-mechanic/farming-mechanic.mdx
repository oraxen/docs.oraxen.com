---
cover: >-
  https://cdn.discordapp.com/attachments/896841738621177896/966831327984893992/unknown.png
coverY: 0
---

import { Callout, Tabs } from 'nextra/components'

# Plant Evolution / Farming Mechanic

Oraxen has a system for creating plants with various stages of growth. There are two ways to configure this:

1. **Inline Stages (Recommended)** - Define all stages in a single item
2. **Legacy Multi-Item** - Separate items for each stage

<Callout type="info">
**Inline Stages** is the recommended approach as it:
- Reduces item count (1 item instead of 5+)
- Improves performance (model swap vs entity recreation)
- Keeps all configuration in one place
</Callout>

## Inline Stages (Recommended)

Define all growth stages within a single item using `stages` array and `Pack.models`:

```yaml
rose_seed:
  displayname: "<gradient:#46EEAA:#2CBFC7>Rose Seed"
  material: PAPER
  Pack:
    generate_model: true
    parent_model: "item/generated"
    textures:
      - custom/plants/rose_seed
    # Define all growth stage models here
    models:
      stage0: custom/plants/rose_stage_0
      stage1: custom/plants/rose_stage_1
      stage2: custom/plants/rose_stage_2
      stage3: custom/plants/rose_stage_3
  Mechanics:
    furniture:
      barrier: false
      farmblock_required: true
      initial_stage: 0  # Start at stage0 when placed
      stages:
        - model: stage0  # References Pack.models key
          evolution:
            delay: 10000
            probability: 0.5
            light_boost: true
            bone_meal:
              chance: 50
          drop:
            silktouch: true
            loots:
              - { oraxen_item: rose_seed, probability: 1.0 }

        - model: stage1
          evolution:
            delay: 10000
            probability: 0.5
            light_boost: true
            bone_meal:
              chance: 50
          drop:
            silktouch: true
            loots:
              - { oraxen_item: rose_seed, probability: 1.0 }

        - model: stage2
          evolution:
            delay: 10000
            probability: 0.5
            light_boost: true
            bone_meal:
              chance: 50
          drop:
            silktouch: true
            loots:
              - { oraxen_item: rose_seed, probability: 1.0 }

        - model: stage3  # Final stage - no evolution section
          drop:
            silktouch: true
            loots:
              - { oraxen_item: rose_seed, max_amount: 2, probability: 0.75 }
              - { oraxen_item: rose_plant, max_amount: 5, probability: 0.55 }
```

### Stage Configuration Options

Each stage in the `stages` array can have:

| Option | Description |
|--------|-------------|
| `model` | **Required.** Reference to a key in `Pack.models` |
| `light` | Optional light level for this stage (-1 = inherit from mechanic) |
| `evolution` | Evolution settings. Omit for final stage |
| `drop` | Stage-specific drops. Inherits from mechanic drop if omitted |

### Evolution Options

```yaml
evolution:
  delay: 10000              # Ticks between evolution checks
  probability: 0.5          # Chance to evolve (0.0 to 1.0)
  light_boost: true         # Enable light boost (shorthand)
  # OR detailed light boost:
  light_boost:
    minimum_light_level: 9  # Min light level for boost
    boost_tick: 500         # Extra ticks per check when lit
  rain_boost: true          # Enable rain boost (shorthand)
  # OR detailed rain boost:
  rain_boost:
    boost_tick: 500         # Extra ticks per check when raining
  bone_meal: true           # Enable bone meal (50% default)
  # OR detailed bone meal:
  bone_meal:
    chance: 50              # Success percentage (0-100)
```

---

## Legacy Multi-Item Pattern

<Callout type="warning">
This pattern still works but is **deprecated**. You'll see console warnings suggesting migration to inline stages.
</Callout>

The legacy approach requires creating separate items for each growth stage:

<Tabs items={['Seed Item', 'Stage 1', 'Stage 2', 'Final Stage']}>
<Tabs.Tab>
```yaml
rose_seed:
  displayname: "<gradient:#46EEAA:#2CBFC7>Rose Seed"
  material: PAPER
  Mechanics:
    furniture:
      item: rose_plant_stage1
      barrier: false
      farmblock_required: true
      evolution:
        delay: 10000
        probability: 0.5
        light_boost: true
        next_stage: rose_plant_stage1  # References another item
      drop:
        silktouch: true
        loots:
          - { oraxen_item: rose_seed, probability: 1.0 }
  Pack:
    generate_model: false
    model: custom/plants/rose_stage_1
```
</Tabs.Tab>
<Tabs.Tab>
```yaml
rose_plant_stage1:
  material: PAPER
  excludeFromInventory: true  # Hide from inventory
  Mechanics:
    furniture:
      barrier: false
      farmblock_required: true
      evolution:
        delay: 10000
        probability: 0.5
        light_boost: true
        next_stage: rose_plant_stage2
      drop:
        silktouch: true
        loots:
          - { oraxen_item: rose_seed, probability: 1.0 }
  Pack:
    generate_model: false
    model: custom/plants/rose_stage_1
```
</Tabs.Tab>
<Tabs.Tab>
```yaml
rose_plant_stage2:
  material: PAPER
  excludeFromInventory: true
  Mechanics:
    furniture:
      barrier: false
      farmblock_required: true
      evolution:
        delay: 10000
        probability: 0.5
        light_boost: true
        next_stage: rose_plant_stage3
      drop:
        silktouch: true
        loots:
          - { oraxen_item: rose_seed, probability: 1.0 }
  Pack:
    generate_model: false
    model: custom/plants/rose_stage_2
```
</Tabs.Tab>
<Tabs.Tab>
```yaml
rose_plant_stage3:
  material: PAPER
  excludeFromInventory: true
  Mechanics:
    furniture:
      barrier: false
      farmblock_required: true
      evolution:
        delay: 100000
        probability: 0.25
        light_boost: true
        # No next_stage = final stage
      drop:
        silktouch: true
        loots:
          - { oraxen_item: rose_seed, max_amount: 2, probability: 0.75 }
          - { oraxen_item: rose_plant, max_amount: 5, probability: 0.55 }
  Pack:
    generate_model: false
    model: custom/plants/rose_stage_3
```
</Tabs.Tab>
</Tabs>

---

## Configuration Reference

### Placement Requirements

| Option | Description |
|--------|-------------|
| `farmland_required` | Requires vanilla farmland block below |
| `farmblock_required` | Requires custom Oraxen farm block below. See [farmblock mechanic](../noteblock-mechanic/farmblock-mechanic) |

### Evolution Options (Legacy)

| Option | Description |
|--------|-------------|
| `delay` | Time in ticks before evolution check |
| `probability` | Chance to evolve when delay is reached (0.0-1.0) |
| `light_boost` | Grow faster when light level is sufficient |
| `rain_boost` | Grow faster when raining |
| `bone_meal` | Allow bone meal to advance growth |
| `next_stage` | The Oraxen item ID to evolve into (legacy only) |

---

## Migration Guide

To migrate from legacy multi-item to inline stages:

1. **Move models to `Pack.models`**:
   ```yaml
   Pack:
     models:
       stage0: path/to/stage0
       stage1: path/to/stage1
       # ...
   ```

2. **Add `stages` array** with each stage's config

3. **Delete the old stage items** (`*_stage1`, `*_stage2`, etc.)

4. **Remove `next_stage`** - stages advance automatically by array index

See the [full migration guide](https://github.com/oraxen/oraxen/blob/master/MIGRATION_PACK_MODELS.md) for detailed examples.
