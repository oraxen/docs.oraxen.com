---
description: Display cosmetic backpacks on players using packet-based armor stands
---

import { Callout } from 'nextra/components'

# Backpack Cosmetic

The Backpack Cosmetic mechanic displays cosmetic backpacks on a player's back when they equip an item in a specific slot. It uses packet-based invisible armor stands for efficient client-side rendering.

![Player with cosmetic backpack](/shaped_blocks_backpack.png)

<Callout type="info">
This is a **cosmetic-only** mechanic. For functional storage backpacks, see the [Backpack mechanic](/creating-content/items/abilities) (coming soon) or use the [Storage](/creating-content/furniture#storage) feature on furniture.
</Callout>

## How It Works

When a player equips an item with the `backpack_cosmetic` mechanic:

1. An invisible armor stand is spawned and mounted to the player
2. The backpack model is displayed as the armor stand's equipment
3. The armor stand follows the player's movement and rotation
4. Other players (and optionally the wearer) can see the backpack

## Basic Configuration

```yaml
leather_backpack:
  displayname: "<#8B4513>Leather Backpack"
  material: LEATHER_CHESTPLATE
  Pack:
    generate_model: true
    parent_model: item/generated
    textures:
      - leather_backpack
  Mechanics:
    backpack_cosmetic:
      slot: CHEST
      offset:
        x: 0.0
        y: 0.2
        z: -0.2
      scale: 0.8
      view_distance: 48
```

## Configuration Options

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `slot` | String | Required | Slot that triggers the cosmetic: `HEAD`, `CHEST`, `LEGS`, `FEET`, `HAND`, `OFF_HAND`, or `INVENTORY` |
| `model` | String | Item model | Override the model displayed on the armor stand (optional) |
| `offset` | Object | `{x:0, y:0.3, z:-0.3}` | Position offset relative to the player |
| `scale` | Number | `1.0` | Size multiplier for the backpack model |
| `view_distance` | Number | `48` | Maximum distance (in blocks) at which the backpack is visible |
| `hide_in_spectator` | Boolean | `true` | Hide the backpack when the player is in spectator mode |
| `small` | Boolean | `false` | Use a small armor stand for lower positioning |
| `visible_to_self` | Boolean | `true` | Whether the wearer can see their own backpack |

<Callout type="info">
The `INVENTORY` slot triggers the backpack when the item is anywhere in the player's inventory (excluding hands). This is useful for always-visible cosmetics.
</Callout>

### Offset Configuration

The offset positions the backpack relative to the player:

```yaml
offset:
  x: 0.5   # Positive = right, Negative = left
  y: 0.2   # Positive = up, Negative = down
  z: -0.2  # Positive = forward, Negative = backward (toward player's back)
```

<Callout type="info">
When using the mounting system, offset values may have limited effect. The `small` option provides a significant vertical offset by using a smaller armor stand.
</Callout>

## Examples

### Standard Backpack

A backpack centered on the player's back:

```yaml
adventurer_backpack:
  displayname: "<#2E8B57>Adventurer's Backpack"
  material: LEATHER_CHESTPLATE
  color: 46139  # Dark green tint
  Pack:
    generate_model: true
    parent_model: item/generated
    textures:
      - adventurer_backpack
  Mechanics:
    backpack_cosmetic:
      slot: CHEST
      offset:
        x: 0.0
        y: 0.45
        z: -0.35
      scale: 0.9
      view_distance: 64
      hide_in_spectator: true
      small: true
      visible_to_self: true
```

### Shoulder Pack

A smaller pack positioned to one side:

```yaml
explorer_pack:
  displayname: "<#4169E1>Explorer's Pack"
  material: LEATHER_CHESTPLATE
  color: 4286945  # Blue tint
  Pack:
    generate_model: true
    parent_model: item/generated
    textures:
      - explorer_pack
  Mechanics:
    backpack_cosmetic:
      slot: CHEST
      offset:
        x: 0.5  # Offset to the right side
        y: 0.35
        z: -0.25
      scale: 0.75
      view_distance: 48
      hide_in_spectator: true
      small: false
      visible_to_self: true
```

### Using Existing Models

If you have a pre-made model, disable generation and reference it directly:

```yaml
custom_bag:
  displayname: "<#8B4513>Custom Bag"
  material: LEATHER_CHESTPLATE
  Pack:
    generate_model: false
    model: items/bag  # Path to existing model
  Mechanics:
    backpack_cosmetic:
      slot: CHEST
      offset:
        x: 0.0
        y: 0.0
        z: 0.0
      scale: 1.0
      view_distance: 48
      hide_in_spectator: true
      small: true
      visible_to_self: true
```

## Global Configuration

Enable or disable the mechanic globally in `mechanics.yml`:

```yaml
backpack_cosmetic:
  enabled: true
```

## Technical Details

### Rendering Method

Backpacks are rendered using packet-based armor stands:
- **No server-side entities** - Only packet data is sent to clients
- **Efficient** - Minimal server overhead compared to real entities
- **Mounted** - Armor stands are mounted to players for smooth position following
- **Rotation sync** - Both head and body rotation are updated for proper orientation

### Performance Considerations

- The `view_distance` option limits render distance to reduce packet overhead
- Backpacks are automatically cleaned up when:
  - The player unequips the item
  - The player disconnects
  - The server shuts down or reloads

### Slot Behavior

The backpack displays when the item is in the specified slot:
- `CHEST` - Most common for backpacks (chestplate slot)
- `HEAD` - Could be used for mounted items on the head
- `LEGS` - Leggings slot
- `FEET` - Boots slot
- `HAND` - Main hand slot
- `OFF_HAND` - Off-hand slot
- `INVENTORY` - Anywhere in the player's inventory (excluding hands)

## Tips

1. **Use `small: true`** for backpacks to position them lower on the player's back
2. **Adjust `scale`** between 0.5-1.0 for realistic sizing
3. **Set `visible_to_self: true`** so players can see their own cosmetics (especially in third-person view)
4. **Use `LEATHER_CHESTPLATE`** as the base material if you want dyeable backpacks (add a `color` property)
5. **Test in third-person** (F5) to verify positioning looks correct from other players' perspectives
